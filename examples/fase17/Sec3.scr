//$ bin/scribblec-f17.sh scribble-f17/src/test/scrib/f17/paper/Sec3.scr -f17 Travel


module f17.paper.Sec3;


explicit global protocol Travel(role C, role A, role S)
{
	connect C to A;
	rec TravelAgency
	{
		choice at C
		{
			query() from C to A;
			quote() from A to C;
			continue TravelAgency;
		}
		or
		{
			pay() connect C to S;
			confirm() from S to C;
			accpt() from C to A;
		}
		or
		{
			reject() from C to A;
		}
	}
}







/*global protocol NonDet(role A, role B, role C)
{
	choice at A
	{
		l() from A to B;
		l1() from A to C;
	}
	or
	{
		l1() from A to C;
		l2() from A to B;
	}
}


global protocol PreConnected(role A, role B, role C)
{
	choice at A
	{
		l() from A to B;
		rec X
		{
			l() from A to B;
			continue X;
		}
	}
	or
	{
		l1() from A to B;
		l1() from A to C;
	}
}


explicit global protocol Explicit(role A, role B, role C)
{
	choice at A
	{
		l() connect A to B;
		rec X
		{
			l() from A to B;
			continue X;
		}
	}
	or
	{
		l1() connect A to B;
		l1() connect A to C;
	}
}*/
